<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shaniya's Eternal Love Dimension | Adarsh's Heart</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600;700&family=Caveat:wght@400;700&family=Parisienne&family=Sacramento&family=Playfair+Display:wght@700&family=Montserrat:wght@300;400;700&family=Raleway:wght@300;400;700;900&family=Quicksand:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/EffectComposer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/RenderPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/ShaderPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/CopyShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/FilmShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/AfterimageShader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/TextPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js"></script>
    <style>
        /* ==================== RESET & BASE ==================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            font-family: 'Raleway', sans-serif;
            background: #000000;
            color: #ffffff;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
            cursor: none;
        }

        /* ==================== CUSTOM CURSOR ==================== */
        .cursor-dot {
            width: 8px;
            height: 8px;
            background: #ff6b8b;
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 99999;
            mix-blend-mode: difference;
            transition: transform 0.1s;
        }

        .cursor-circle {
            width: 40px;
            height: 40px;
            border: 2px solid rgba(255, 107, 139, 0.5);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 99998;
            mix-blend-mode: difference;
            transition: all 0.3s ease-out;
        }

        /* ==================== LOADING SCREEN ==================== */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 999999;
            transition: opacity 1s, visibility 1s;
        }

        .loading-logo {
            font-family: 'Sacramento', cursive;
            font-size: 4rem;
            background: linear-gradient(45deg, #ff6b8b, #4cc9f0, #ffd700);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 2rem;
            animation: pulse 2s infinite;
        }

        .loading-bar-container {
            width: 300px;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .loading-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff6b8b, #6a5af9, #4cc9f0);
            width: 0%;
            border-radius: 2px;
            transition: width 0.3s;
        }

        .loading-text {
            font-family: 'Quicksand', sans-serif;
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.7);
            letter-spacing: 3px;
        }

        /* ==================== 3D CANVAS ==================== */
        #threejs-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        /* ==================== MAIN CONTAINER ==================== */
        .main-content {
            position: relative;
            z-index: 1;
            max-width: 2000px;
            margin: 0 auto;
            padding: 4rem;
        }

        /* ==================== HERO SECTION ==================== */
        .hero-section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            padding: 6rem 2rem;
        }

        .hero-title {
            font-family: 'Parisienne', cursive;
            font-size: 8rem;
            background: linear-gradient(45deg, #ff6b8b, #ffd700, #4cc9f0);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 2rem;
            line-height: 1;
            text-shadow: 0 0 50px rgba(255, 107, 139, 0.3);
            animation: float 6s ease-in-out infinite;
        }

        .hero-subtitle {
            font-family: 'Raleway', sans-serif;
            font-size: 1.8rem;
            font-weight: 300;
            color: rgba(255, 255, 255, 0.9);
            max-width: 900px;
            margin: 0 auto 4rem;
            line-height: 1.8;
            letter-spacing: 1px;
        }

        /* ==================== INTERACTIVE TEDDY SECTION ==================== */
        .teddy-container {
            width: 100%;
            height: 800px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 40px;
            margin: 6rem 0;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                inset 0 0 100px rgba(255, 107, 139, 0.1),
                0 0 100px rgba(0, 0, 0, 0.5);
        }

        .teddy-3d-canvas {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .teddy-controls {
            position: absolute;
            bottom: 2rem;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 1rem;
            z-index: 100;
        }

        .control-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .control-btn:hover {
            background: rgba(255, 107, 139, 0.3);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 107, 139, 0.3);
        }

        /* ==================== FEATURES GRID ==================== */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 3rem;
            margin: 6rem 0;
        }

        .feature-card {
            background: linear-gradient(145deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
            border-radius: 30px;
            padding: 3rem;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            min-height: 500px;
            display: flex;
            flex-direction: column;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff6b8b, #6a5af9, #4cc9f0);
        }

        .feature-card:hover {
            transform: translateY(-20px) scale(1.02);
            border-color: rgba(255, 107, 139, 0.3);
            box-shadow: 
                0 40px 80px rgba(0,0,0,0.6),
                0 0 60px rgba(255, 107, 139, 0.2);
        }

        .feature-icon {
            font-size: 3rem;
            color: #ffd700;
            margin-bottom: 2rem;
            text-shadow: 0 0 20px currentColor;
        }

        .feature-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: #ffffff;
            margin-bottom: 1.5rem;
            position: relative;
            display: inline-block;
        }

        .feature-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, #ff6b8b, transparent);
        }

        .feature-description {
            font-size: 1.1rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 2rem;
            flex-grow: 1;
        }

        /* ==================== LOVE LETTERS ==================== */
        .letters-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 3rem;
            margin: 6rem 0;
        }

        .letter {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 30px;
            padding: 3rem;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.5s;
            min-height: 400px;
        }

        .letter::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,107,139,0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.5s;
        }

        .letter:hover::before {
            opacity: 1;
        }

        .letter-content {
            font-size: 1.2rem;
            line-height: 1.9;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 2rem;
            position: relative;
            z-index: 2;
        }

        .letter-1 .letter-content {
            font-family: 'Caveat', cursive;
            font-size: 1.8rem;
            color: #FFE4E1;
        }

        .letter-2 .letter-content {
            font-family: 'Dancing Script', cursive;
            font-size: 1.9rem;
            color: #E6E6FA;
        }

        .letter-3 .letter-content {
            font-family: 'Sacramento', cursive;
            font-size: 2rem;
            color: #FFF5EE;
        }

        .letter-signature {
            text-align: right;
            font-family: 'Parisienne', cursive;
            font-size: 2.5rem;
            color: #ffd700;
            position: relative;
            padding-right: 2rem;
        }

        .letter-signature::before {
            content: '~';
            position: absolute;
            right: 0;
            color: #ff6b8b;
        }

        /* ==================== MUSIC PLAYER ==================== */
        .music-player {
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            z-index: 1000;
            width: 400px;
            transform: translateX(0);
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .music-player.collapsed {
            transform: translateX(calc(100% - 80px));
        }

        .player-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .player-title {
            font-family: 'Quicksand', sans-serif;
            font-size: 1.2rem;
            color: #ffd700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .collapse-btn {
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.2rem;
            cursor: pointer;
            transition: color 0.3s;
        }

        .collapse-btn:hover {
            color: #ff6b8b;
        }

        .visualizer-container {
            width: 100%;
            height: 150px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin-bottom: 1.5rem;
            overflow: hidden;
            position: relative;
        }

        .visualizer-canvas {
            width: 100%;
            height: 100%;
        }

        .player-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
        }

        .player-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff6b8b, #6a5af9);
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .player-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 25px rgba(255, 107, 139, 0.7);
        }

        .song-info {
            flex-grow: 1;
            text-align: center;
            font-family: 'Caveat', cursive;
            font-size: 1.5rem;
            color: #ffd700;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        }

        /* ==================== PARTICLE EFFECTS ==================== */
        .particles-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        /* ==================== ANIMATIONS ==================== */
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(2deg); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        @keyframes glow {
            0%, 100% { text-shadow: 0 0 20px rgba(255, 107, 139, 0.7); }
            50% { text-shadow: 0 0 40px rgba(255, 107, 139, 0.9), 0 0 60px rgba(255, 215, 0, 0.7); }
        }

        /* ==================== RESPONSIVE ==================== */
        @media (max-width: 1200px) {
            .main-content { padding: 2rem; }
            .hero-title { font-size: 6rem; }
            .features-grid { grid-template-columns: 1fr; }
            .letters-container { grid-template-columns: 1fr; }
        }

        @media (max-width: 768px) {
            .hero-title { font-size: 4rem; }
            .hero-subtitle { font-size: 1.4rem; }
            .teddy-container { height: 500px; }
            .music-player { 
                width: 300px; 
                top: 1rem; 
                right: 1rem; 
            }
        }

        /* ==================== CUSTOM SCROLLBAR ==================== */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, #ff6b8b, #6a5af9);
            border-radius: 10px;
            border: 3px solid rgba(0, 0, 0, 0.3);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(45deg, #6a5af9, #ff6b8b);
        }
    </style>
</head>
<body>
    <!-- LOADING SCREEN -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-logo">Adarsh ‚ù§ Shaniya</div>
        <div class="loading-bar-container">
            <div class="loading-bar" id="loadingBar"></div>
        </div>
        <div class="loading-text" id="loadingText">INITIALIZING LOVE DIMENSION</div>
    </div>

    <!-- CUSTOM CURSOR -->
    <div class="cursor-dot" id="cursorDot"></div>
    <div class="cursor-circle" id="cursorCircle"></div>

    <!-- 3D BACKGROUND CANVAS -->
    <canvas id="threejs-canvas"></canvas>

    <!-- PARTICLE EFFECTS -->
    <div class="particles-container" id="particlesContainer"></div>

    <!-- ADVANCED MUSIC PLAYER -->
    <div class="music-player" id="musicPlayer">
        <div class="player-header">
            <div class="player-title">
                <i class="fas fa-heart"></i>
                <span>Love Frequency</span>
            </div>
            <button class="collapse-btn" id="collapseBtn">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
        <div class="visualizer-container">
            <canvas class="visualizer-canvas" id="visualizerCanvas"></canvas>
        </div>
        <div class="player-controls">
            <button class="player-btn" id="prevBtn">
                <i class="fas fa-step-backward"></i>
            </button>
            <button class="player-btn" id="playBtn">
                <i class="fas fa-play"></i>
            </button>
            <button class="player-btn" id="nextBtn">
                <i class="fas fa-step-forward"></i>
            </button>
            <div class="song-info" id="songTitle">"Eternal Love"</div>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="main-content">
        <!-- HERO SECTION -->
        <section class="hero-section" id="hero">
            <h1 class="hero-title" id="mainTitle">My Eternal Love, Shaniya</h1>
            <p class="hero-subtitle">
                In this digital sanctuary where love transcends boundaries, I've created a universe where 
                every pixel beats with affection, every animation whispers devotion, and every moment 
                is a testament to our infinite connection.
            </p>
            
            <!-- INTERACTIVE 3D TEDDY -->
            <div class="teddy-container">
                <div class="teddy-3d-canvas" id="teddy3dCanvas"></div>
                <div class="teddy-controls">
                    <button class="control-btn" id="hugBtn">
                        <i class="fas fa-heart"></i> Send Hug
                    </button>
                    <button class="control-btn" id="danceBtn">
                        <i class="fas fa-music"></i> Make Dance
                    </button>
                    <button class="control-btn" id="floatBtn">
                        <i class="fas fa-feather-alt"></i> Float Mode
                    </button>
                    <button class="control-btn" id="glowBtn">
                        <i class="fas fa-star"></i> Glow Effect
                    </button>
                </div>
            </div>

            <div class="hug-counter" style="margin-top: 3rem; font-family: 'Caveat', cursive; font-size: 2.5rem; background: rgba(255,255,255,0.05); padding: 1.5rem 3rem; border-radius: 50px; backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1);">
                <span style="color: #FFE4E1;">Virtual Hugs Sent:</span>
                <span id="hugCount" style="color: #ffd700; margin-left: 1rem; font-size: 3rem; text-shadow: 0 0 20px #ffd700;">0</span>
                <span style="color: #4cc9f0; margin-left: 2rem; font-size: 1.5rem;">Click Teddy for Magic!</span>
            </div>
        </section>

        <!-- ADVANCED FEATURES -->
        <section class="features-grid" id="features">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-atom"></i>
                </div>
                <h3 class="feature-title">Quantum Love Particles</h3>
                <p class="feature-description">
                    An advanced particle system simulating the quantum entanglement of our hearts. 
                    Each particle represents a moment of our love, with real-time physics simulation, 
                    magnetic attraction, and intelligent swarm behavior.
                </p>
                <button class="control-btn" style="margin-top: auto; align-self: flex-start;" onclick="activateParticles()">
                    <i class="fas fa-bolt"></i> Activate System
                </button>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <h3 class="feature-title">Neural Love Network</h3>
                <p class="feature-description">
                    A deep learning AI trained on every memory, conversation, and emotion we've shared. 
                    It predicts future moments, generates personalized love letters, and creates 
                    custom animations based on our unique connection.
                </p>
                <button class="control-btn" style="margin-top: auto; align-self: flex-start;" onclick="activateAI()">
                    <i class="fas fa-robot"></i> Engage AI
                </button>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-infinity"></i>
                </div>
                <h3 class="feature-title">Time Dilation Engine</h3>
                <p class="feature-description">
                    Manipulate time within our love dimension. Slow down moments, replay memories in 
                    perfect detail, or fast-forward to our future together. Experience our entire 
                    timeline in an interactive 4D visualization.
                </p>
                <button class="control-btn" style="margin-top: auto; align-self: flex-start;" onclick="activateTimeEngine()">
                    <i class="fas fa-clock"></i> Control Time
                </button>
            </div>
        </section>

        <!-- LOVE LETTERS -->
        <section class="letters-container" id="letters">
            <div class="letter letter-1">
                <div class="letter-content">
                    My dearest Shaniya, as I sit here coding this universe for you, my heart overflows with emotions 
                    that no programming language could ever fully express. You are the missing piece in my algorithm, 
                    the perfect variable in my equation of life. Every moment without you feels like an infinite loop 
                    waiting for a break condition‚Äîand that condition is always you.
                </div>
                <div class="letter-signature">Adarsh</div>
            </div>

            <div class="letter letter-2">
                <div class="letter-content">
                    Beloved, in the database of my soul, you're the only entry that matters. Your smile is my favorite 
                    data visualization, your voice my most cherished audio sample. I've compiled all my love for you 
                    into this interactive experience because words alone could never capture the depth of what I feel.
                </div>
                <div class="letter-signature">Your Adarsh</div>
            </div>

            <div class="letter letter-3">
                <div class="letter-content">
                    My love, this digital realm is just a shadow of what I feel. The animations are but pixels, 
                    the music just frequencies, but my love for you is the ultimate reality. You are my always, 
                    my forever, my eternal exception handler when everything else throws errors in life.
                </div>
                <div class="letter-signature">Forever Yours</div>
            </div>
        </section>
    </div>

    <script>
        // ==================== ULTIMATE INITIALIZATION ====================
        class UltimateLoveWebsite {
            constructor() {
                this.initializeLoading();
                this.initializeThreeJS();
                this.initializeTeddy3D();
                this.initializeMusicSystem();
                this.initializeParticles();
                this.initializeCursor();
                this.initializeAnimations();
                this.initializeInteractions();
                this.initializeAI();
            }

            // ==================== LOADING SYSTEM ====================
            initializeLoading() {
                const loadingBar = document.getElementById('loadingBar');
                const loadingText = document.getElementById('loadingText');
                const loadingScreen = document.getElementById('loadingScreen');
                
                const loadingSteps = [
                    "LOADING LOVE DIMENSION...",
                    "INITIALIZING QUANTUM PARTICLES...",
                    "CALIBRATING HEART FREQUENCY...",
                    "GENERATING ETERNAL MEMORIES...",
                    "COMPILING INFINITE LOVE...",
                    "ALMOST READY..."
                ];
                
                let progress = 0;
                let step = 0;
                
                const loadInterval = setInterval(() => {
                    progress += Math.random() * 15 + 5;
                    if (progress >= 100) {
                        progress = 100;
                        clearInterval(loadInterval);
                        
                        setTimeout(() => {
                            loadingScreen.style.opacity = '0';
                            loadingScreen.style.visibility = 'hidden';
                            this.startEverything();
                        }, 500);
                    }
                    
                    loadingBar.style.width = `${progress}%`;
                    
                    if (progress >= (step + 1) * (100 / loadingSteps.length)) {
                        loadingText.textContent = loadingSteps[step];
                        step++;
                    }
                }, 100);
            }

            // ==================== THREE.JS BACKGROUND ====================
            initializeThreeJS() {
                this.scene = new THREE.Scene();
                this.camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                this.renderer = new THREE.WebGLRenderer({ 
                    canvas: document.getElementById('threejs-canvas'),
                    antialias: true,
                    alpha: true,
                    powerPreference: "high-performance"
                });
                
                this.renderer.setSize(window.innerWidth, window.innerHeight);
                this.renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                this.renderer.setClearColor(0x000000, 0);
                
                this.camera.position.z = 50;
                
                // Create floating hearts
                this.hearts = [];
                const heartGeometry = new THREE.SphereGeometry(0.5, 8, 8);
                const heartMaterial = new THREE.MeshBasicMaterial({ 
                    color: 0xff6b8b,
                    transparent: true,
                    opacity: 0.3
                });
                
                for (let i = 0; i < 100; i++) {
                    const heart = new THREE.Mesh(heartGeometry, heartMaterial);
                    heart.position.x = (Math.random() - 0.5) * 200;
                    heart.position.y = (Math.random() - 0.5) * 200;
                    heart.position.z = (Math.random() - 0.5) * 200;
                    heart.userData.speed = Math.random() * 0.02 + 0.01;
                    this.scene.add(heart);
                    this.hearts.push(heart);
                }
                
                // Add ambient glow
                const ambientLight = new THREE.AmbientLight(0xff6b8b, 0.3);
                this.scene.add(ambientLight);
                
                // Add directional light
                const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);
                directionalLight.position.set(1, 1, 1);
                this.scene.add(directionalLight);
                
                // Animation loop
                this.animateThreeJS();
                
                // Handle resize
                window.addEventListener('resize', () => {
                    this.camera.aspect = window.innerWidth / window.innerHeight;
                    this.camera.updateProjectionMatrix();
                    this.renderer.setSize(window.innerWidth, window.innerHeight);
                });
            }

            animateThreeJS() {
                requestAnimationFrame(() => this.animateThreeJS());
                
                // Animate hearts
                this.hearts.forEach(heart => {
                    heart.position.y += heart.userData.speed;
                    heart.rotation.x += 0.01;
                    heart.rotation.y += 0.01;
                    
                    if (heart.position.y > 100) {
                        heart.position.y = -100;
                    }
                });
                
                this.renderer.render(this.scene, this.camera);
            }

            // ==================== 3D TEDDY BEAR ====================
            initializeTeddy3D() {
                this.teddyScene = new THREE.Scene();
                this.teddyCamera = new THREE.PerspectiveCamera(75, 800 / 600, 0.1, 1000);
                this.teddyRenderer = new THREE.WebGLRenderer({ 
                    antialias: true,
                    alpha: true,
                    powerPreference: "high-performance"
                });
                
                const canvasContainer = document.getElementById('teddy3dCanvas');
                canvasContainer.appendChild(this.teddyRenderer.domElement);
                this.teddyRenderer.setSize(canvasContainer.offsetWidth, canvasContainer.offsetHeight);
                this.teddyRenderer.setClearColor(0x000000, 0);
                
                this.teddyCamera.position.z = 5;
                
                // Create advanced teddy bear
                this.createAdvancedTeddy();
                
                // Add lighting
                const teddyLight = new THREE.DirectionalLight(0xffffff, 1);
                teddyLight.position.set(5, 5, 5);
                this.teddyScene.add(teddyLight);
                
                const ambient = new THREE.AmbientLight(0xff6b8b, 0.3);
                this.teddyScene.add(ambient);
                
                // Controls
                this.controls = new THREE.OrbitControls(this.teddyCamera, this.teddyRenderer.domElement);
                this.controls.enableZoom = true;
                this.controls.enablePan = false;
                this.controls.enableDamping = true;
                this.controls.dampingFactor = 0.05;
                
                // Animation
                this.animateTeddy();
                
                // Resize handler
                window.addEventListener('resize', () => {
                    this.teddyCamera.aspect = canvasContainer.offsetWidth / canvasContainer.offsetHeight;
                    this.teddyCamera.updateProjectionMatrix();
                    this.teddyRenderer.setSize(canvasContainer.offsetWidth, canvasContainer.offsetHeight);
                });
            }

            createAdvancedTeddy() {
                // Body
                const bodyGeometry = new THREE.SphereGeometry(1, 32, 32);
                const bodyMaterial = new THREE.MeshPhongMaterial({ 
                    color: 0xd46a7e,
                    shininess: 100
                });
                this.teddyBody = new THREE.Mesh(bodyGeometry, bodyMaterial);
                this.teddyScene.add(this.teddyBody);
                
                // Head
                const headGeometry = new THREE.SphereGeometry(0.7, 32, 32);
                const headMaterial = new THREE.MeshPhongMaterial({ 
                    color: 0xd46a7e,
                    shininess: 100
                });
                this.teddyHead = new THREE.Mesh(headGeometry, headMaterial);
                this.teddyHead.position.y = 1.2;
                this.teddyScene.add(this.teddyHead);
                
                // Ears
                const earGeometry = new THREE.SphereGeometry(0.3, 32, 32);
                const earMaterial = new THREE.MeshPhongMaterial({ 
                    color: 0xff8ba0,
                    shininess: 100
                });
                
                this.leftEar = new THREE.Mesh(earGeometry, earMaterial);
                this.leftEar.position.set(-0.6, 1.5, 0.3);
                this.teddyScene.add(this.leftEar);
                
                this.rightEar = new THREE.Mesh(earGeometry, earMaterial);
                this.rightEar.position.set(0.6, 1.5, 0.3);
                this.teddyScene.add(this.rightEar);
                
                // Eyes
                const eyeGeometry = new THREE.SphereGeometry(0.1, 16, 16);
                const eyeMaterial = new THREE.MeshPhongMaterial({ 
                    color: 0x000000,
                    shininess: 100
                });
                
                this.leftEye = new THREE.Mesh(eyeGeometry, eyeMaterial);
                this.leftEye.position.set(-0.3, 1.3, 0.6);
                this.teddyScene.add(this.leftEye);
                
                this.rightEye = new THREE.Mesh(eyeGeometry, eyeMaterial);
                this.rightEye.position.set(0.3, 1.3, 0.6);
                this.teddyScene.add(this.rightEye);
                
                // Nose
                const noseGeometry = new THREE.SphereGeometry(0.08, 16, 16);
                const noseMaterial = new THREE.MeshPhongMaterial({ 
                    color: 0xff1493,
                    shininess: 100
                });
                this.nose = new THREE.Mesh(noseGeometry, noseMaterial);
                this.nose.position.set(0, 1.1, 0.7);
                this.teddyScene.add(this.nose);
                
                // Arms
                const armGeometry = new THREE.CylinderGeometry(0.15, 0.15, 0.8, 16);
                const armMaterial = new THREE.MeshPhongMaterial({ 
                    color: 0xd46a7e,
                    shininess: 100
                });
                
                this.leftArm = new THREE.Mesh(armGeometry, armMaterial);
                this.leftArm.position.set(-1, 0.3, 0);
                this.leftArm.rotation.z = Math.PI / 4;
                this.teddyScene.add(this.leftArm);
                
                this.rightArm = new THREE.Mesh(armGeometry, armMaterial);
                this.rightArm.position.set(1, 0.3, 0);
                this.rightArm.rotation.z = -Math.PI / 4;
                this.teddyScene.add(this.rightArm);
                
                // Legs
                const legGeometry = new THREE.CylinderGeometry(0.2, 0.2, 0.6, 16);
                const legMaterial = new THREE.MeshPhongMaterial({ 
                    color: 0xd46a7e,
                    shininess: 100
                });
                
                this.leftLeg = new THREE.Mesh(legGeometry, legMaterial);
                this.leftLeg.position.set(-0.4, -1, 0);
                this.teddyScene.add(this.leftLeg);
                
                this.rightLeg = new THREE.Mesh(legGeometry, legMaterial);
                this.rightLeg.position.set(0.4, -1, 0);
                this.teddyScene.add(this.rightLeg);
                
                // Heart glow
                const heartGeometry = new THREE.SphereGeometry(0.3, 16, 16);
                const heartMaterial = new THREE.MeshBasicMaterial({ 
                    color: 0xff6b8b,
                    transparent: true,
                    opacity: 0
                });
                this.heartGlow = new THREE.Mesh(heartGeometry, heartMaterial);
                this.heartGlow.position.set(0, 0.5, 0.8);
                this.teddyScene.add(this.heartGlow);
            }

            animateTeddy() {
                requestAnimationFrame(() => this.animateTeddy());
                
                // Gentle floating animation
                const time = Date.now() * 0.001;
                this.teddyBody.position.y = Math.sin(time) * 0.1;
                this.teddyHead.position.y = 1.2 + Math.sin(time) * 0.1;
                
                // Rotate ears slightly
                this.leftEar.rotation.x = Math.sin(time * 2) * 0.1;
                this.rightEar.rotation.x = Math.sin(time * 2 + Math.PI) * 0.1;
                
                // Blink eyes occasionally
                if (Math.random() < 0.01) {
                    gsap.to(this.leftEye.scale, { y: 0.1, duration: 0.1, yoyo: true, repeat: 1 });
                    gsap.to(this.rightEye.scale, { y: 0.1, duration: 0.1, yoyo: true, repeat: 1 });
                }
                
                this.controls.update();
                this.teddyRenderer.render(this.teddyScene, this.teddyCamera);
            }

            // ==================== ADVANCED MUSIC SYSTEM ====================
            initializeMusicSystem() {
                this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                this.analyser = this.audioContext.createAnalyser();
                this.analyser.fftSize = 256;
                
                this.bufferLength = this.analyser.frequencyBinCount;
                this.dataArray = new Uint8Array(this.bufferLength);
                
                // Visualizer canvas
                this.visualizerCanvas = document.getElementById('visualizerCanvas');
                this.visualizerCtx = this.visualizerCanvas.getContext('2d');
                this.visualizerCanvas.width = 400;
                this.visualizerCanvas.height = 150;
                
                // Playlist
                this.playlist = [
                    { title: '"Sailor Song - Gigi Perez', src: 'Sailor Song - Gigi Perez.mp3' },
                   
                    
                ];
                
                this.currentTrack = 0;
                this.isPlaying = false;
                
                // Create audio element
                this.audio = new Audio();
                this.audio.crossOrigin = "anonymous";
                this.audio.src = this.playlist[0].src;
                
                // Connect to analyser
                const source = this.audioContext.createMediaElementSource(this.audio);
                source.connect(this.analyser);
                this.analyser.connect(this.audioContext.destination);
                
                // Controls
                document.getElementById('playBtn').addEventListener('click', () => this.togglePlay());
                document.getElementById('prevBtn').addEventListener('click', () => this.prevTrack());
                document.getElementById('nextBtn').addEventListener('click', () => this.nextTrack());
                document.getElementById('collapseBtn').addEventListener('click', () => this.togglePlayer());
                
                // Update visualizer
                this.updateVisualizer();
                
                // Auto-resume audio context on user interaction
                document.addEventListener('click', () => {
                    if (this.audioContext.state === 'suspended') {
                        this.audioContext.resume();
                    }
                }, { once: true });
            }

            togglePlay() {
                if (!this.isPlaying) {
                    this.audio.play();
                    document.getElementById('playBtn').innerHTML = '<i class="fas fa-pause"></i>';
                } else {
                    this.audio.pause();
                    document.getElementById('playBtn').innerHTML = '<i class="fas fa-play"></i>';
                }
                this.isPlaying = !this.isPlaying;
            }

            prevTrack() {
                this.currentTrack = (this.currentTrack - 1 + this.playlist.length) % this.playlist.length;
                this.loadTrack(this.currentTrack);
                if (this.isPlaying) this.audio.play();
            }

            nextTrack() {
                this.currentTrack = (this.currentTrack + 1) % this.playlist.length;
                this.loadTrack(this.currentTrack);
                if (this.isPlaying) this.audio.play();
            }

            loadTrack(index) {
                this.audio.src = this.playlist[index].src;
                document.getElementById('songTitle').textContent = this.playlist[index].title;
            }

            togglePlayer() {
                const player = document.getElementById('musicPlayer');
                player.classList.toggle('collapsed');
                const icon = document.getElementById('collapseBtn').querySelector('i');
                icon.className = player.classList.contains('collapsed') ? 'fas fa-chevron-left' : 'fas fa-chevron-right';
            }

            updateVisualizer() {
                requestAnimationFrame(() => this.updateVisualizer());
                
                if (!this.isPlaying) return;
                
                this.analyser.getByteFrequencyData(this.dataArray);
                this.visualizerCtx.clearRect(0, 0, this.visualizerCanvas.width, this.visualizerCanvas.height);
                
                const barWidth = (this.visualizerCanvas.width / this.bufferLength) * 2.5;
                let barHeight;
                let x = 0;
                
                for (let i = 0; i < this.bufferLength; i++) {
                    barHeight = this.dataArray[i] / 2;
                    
                    const gradient = this.visualizerCtx.createLinearGradient(0, 0, 0, this.visualizerCanvas.height);
                    gradient.addColorStop(0, '#ff6b8b');
                    gradient.addColorStop(0.5, '#6a5af9');
                    gradient.addColorStop(1, '#4cc9f0');
                    
                    this.visualizerCtx.fillStyle = gradient;
                    this.visualizerCtx.fillRect(
                        x, 
                        this.visualizerCanvas.height - barHeight, 
                        barWidth, 
                        barHeight
                    );
                    
                    x += barWidth + 1;
                }
            }

            // ==================== PARTICLE SYSTEM ====================
            initializeParticles() {
                this.particles = [];
                this.particleContainer = document.getElementById('particlesContainer');
                
                // Create initial particles
                for (let i = 0; i < 100; i++) {
                    this.createParticle();
                }
                
                // Continuous generation
                setInterval(() => {
                    if (this.particles.length < 200) {
                        this.createParticle();
                    }
                }, 100);
                
                // Animation loop
                this.animateParticles();
            }

            createParticle() {
                const particle = document.createElement('div');
                particle.style.position = 'fixed';
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '-1';
                
                const types = ['‚ù§Ô∏è', 'üß∏', 'üíñ', '‚ú®', 'üåü'];
                particle.textContent = types[Math.floor(Math.random() * types.length)];
                
                particle.style.fontSize = Math.random() * 20 + 10 + 'px';
                particle.style.color = `hsl(${Math.random() * 360}, 100%, 70%)`;
                particle.style.opacity = Math.random() * 0.5 + 0.3;
                particle.style.filter = `blur(${Math.random() * 2}px)`;
                
                const startX = Math.random() * window.innerWidth;
                particle.style.left = startX + 'px';
                particle.style.top = window.innerHeight + 50 + 'px';
                
                this.particleContainer.appendChild(particle);
                
                const particleData = {
                    element: particle,
                    x: startX,
                    y: window.innerHeight + 50,
                    speed: Math.random() * 2 + 1,
                    sway: Math.random() * 2 - 1,
                    rotation: Math.random() * 360,
                    rotationSpeed: Math.random() * 2 - 1
                };
                
                this.particles.push(particleData);
                return particleData;
            }

            animateParticles() {
                requestAnimationFrame(() => this.animateParticles());
                
                for (let i = this.particles.length - 1; i >= 0; i--) {
                    const p = this.particles[i];
                    
                    p.y -= p.speed;
                    p.x += p.sway * 0.5;
                    p.rotation += p.rotationSpeed;
                    
                    // Apply transformations
                    p.element.style.transform = `translate(${p.x}px, ${p.y}px) rotate(${p.rotation}deg)`;
                    
                    // Fade out near top
                    const progress = 1 - (p.y + 100) / (window.innerHeight + 200);
                    p.element.style.opacity = progress * 0.5;
                    
                    // Remove if out of bounds
                    if (p.y < -100) {
                        p.element.remove();
                        this.particles.splice(i, 1);
                    }
                }
            }

            // ==================== CUSTOM CURSOR ====================
            initializeCursor() {
                this.cursorDot = document.getElementById('cursorDot');
                this.cursorCircle = document.getElementById('cursorCircle');
                
                let mouseX = 0;
                let mouseY = 0;
                let circleX = 0;
                let circleY = 0;
                
                document.addEventListener('mousemove', (e) => {
                    mouseX = e.clientX;
                    mouseY = e.clientY;
                    
                    // Update dot immediately
                    this.cursorDot.style.transform = `translate(${mouseX}px, ${mouseY}px)`;
                    
                    // Create trail effect
                    if (Math.random() > 0.7) {
                        this.createCursorTrail(mouseX, mouseY);
                    }
                });
                
                // Animate circle with delay
                const animateCursor = () => {
                    circleX += (mouseX - circleX) * 0.1;
                    circleY += (mouseY - circleY) * 0.1;
                    
                    this.cursorCircle.style.transform = `translate(${circleX}px, ${circleY}px)`;
                    requestAnimationFrame(animateCursor);
                };
                
                animateCursor();
                
                // Cursor interactions
                document.addEventListener('mousedown', () => {
                    this.cursorCircle.style.transform += ' scale(0.8)';
                });
                
                document.addEventListener('mouseup', () => {
                    this.cursorCircle.style.transform = `translate(${circleX}px, ${circleY}px) scale(1)`;
                });
                
                // Hover effects
                const hoverables = document.querySelectorAll('button, .feature-card, .letter');
                hoverables.forEach(el => {
                    el.addEventListener('mouseenter', () => {
                        this.cursorCircle.style.width = '60px';
                        this.cursorCircle.style.height = '60px';
                        this.cursorCircle.style.borderColor = '#ff6b8b';
                    });
                    
                    el.addEventListener('mouseleave', () => {
                        this.cursorCircle.style.width = '40px';
                        this.cursorCircle.style.height = '40px';
                        this.cursorCircle.style.borderColor = 'rgba(255, 107, 139, 0.5)';
                    });
                });
            }

            createCursorTrail(x, y) {
                const trail = document.createElement('div');
                trail.style.position = 'fixed';
                trail.style.left = x + 'px';
                trail.style.top = y + 'px';
                trail.style.width = '20px';
                trail.style.height = '20px';
                trail.style.borderRadius = '50%';
                trail.style.background = 'radial-gradient(circle, rgba(255,107,139,0.3) 0%, transparent 70%)';
                trail.style.pointerEvents = 'none';
                trail.style.zIndex = '-1';
                
                document.body.appendChild(trail);
                
                gsap.to(trail, {
                    scale: 2,
                    opacity: 0,
                    duration: 0.5,
                    onComplete: () => trail.remove()
                });
            }

            // ==================== ANIMATIONS ====================
            initializeAnimations() {
                // GSAP animations
                gsap.registerPlugin(ScrollTrigger);
                
                // Animate title
                gsap.from('#mainTitle', {
                    duration: 2,
                    y: 100,
                    opacity: 0,
                    ease: 'power4.out'
                });
                
                // Animate subtitle
                gsap.from('.hero-subtitle', {
                    duration: 2,
                    y: 50,
                    opacity: 0,
                    delay: 0.5,
                    ease: 'power3.out'
                });
                
                // Scroll animations for features
                gsap.utils.toArray('.feature-card').forEach((card, i) => {
                    gsap.from(card, {
                        scrollTrigger: {
                            trigger: card,
                            start: 'top bottom-=100',
                            toggleActions: 'play none none reverse'
                        },
                        duration: 1,
                        y: 100,
                        opacity: 0,
                        delay: i * 0.2,
                        ease: 'power3.out'
                    });
                });
                
                // Scroll animations for letters
                gsap.utils.toArray('.letter').forEach((letter, i) => {
                    gsap.from(letter, {
                        scrollTrigger: {
                            trigger: letter,
                            start: 'top bottom-=100',
                            toggleActions: 'play none none reverse'
                        },
                        duration: 1,
                        x: i % 2 === 0 ? -100 : 100,
                        opacity: 0,
                        delay: i * 0.1,
                        ease: 'power3.out'
                    });
                });
                
                // Continuous background animations
                this.createBackgroundAnimations();
            }

            createBackgroundAnimations() {
                // Create floating elements
                for (let i = 0; i < 20; i++) {
                    const element = document.createElement('div');
                    element.style.position = 'fixed';
                    element.style.pointerEvents = 'none';
                    element.style.zIndex = '-1';
                    element.style.fontSize = Math.random() * 30 + 10 + 'px';
                    element.style.opacity = Math.random() * 0.2 + 0.05;
                    element.style.color = ['#ff6b8b', '#6a5af9', '#4cc9f0', '#ffd700'][Math.floor(Math.random() * 4)];
                    
                    const symbols = ['‚ù§Ô∏è', '‚ú¶', '‚ùÄ', '‚úß', '‚ô°', '‚òÖ'];
                    element.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                    
                    const startX = Math.random() * window.innerWidth;
                    const startY = Math.random() * window.innerHeight;
                    
                    element.style.left = startX + 'px';
                    element.style.top = startY + 'px';
                    
                    document.body.appendChild(element);
                    
                    // Animate
                    gsap.to(element, {
                        x: 'random(-100, 100)',
                        y: 'random(-100, 100)',
                        rotation: 'random(-180, 180)',
                        duration: 'random(10, 20)',
                        repeat: -1,
                        yoyo: true,
                        ease: 'sine.inOut'
                    });
                }
            }

            // ==================== INTERACTIONS ====================
            initializeInteractions() {
                let hugCount = 0;
                const hugCountElement = document.getElementById('hugCount');
                
                // Hug button
                document.getElementById('hugBtn').addEventListener('click', () => {
                    hugCount++;
                    hugCountElement.textContent = hugCount;
                    
                    // Animate teddy
                    this.animateHug();
                    
                    // Create heart explosion
                    this.createHeartExplosion();
                    
                    // Update particle effects
                    for (let i = 0; i < 20; i++) {
                        setTimeout(() => this.createParticle(), i * 50);
                    }
                });
                
                // Dance button
                document.getElementById('danceBtn').addEventListener('click', () => {
                    this.animateDance();
                });
                
                // Float button
                document.getElementById('floatBtn').addEventListener('click', () => {
                    this.animateFloat();
                });
                
                // Glow button
                document.getElementById('glowBtn').addEventListener('click', () => {
                    this.animateGlow();
                });
                
                // Teddy canvas click
                document.getElementById('teddy3dCanvas').addEventListener('click', () => {
                    hugCount++;
                    hugCountElement.textContent = hugCount;
                    this.createClickEffect(event);
                });
            }

            animateHug() {
                // Arms hug animation
                gsap.to(this.leftArm.rotation, {
                    z: Math.PI / 2,
                    duration: 0.5,
                    yoyo: true,
                    repeat: 1,
                    ease: 'power2.inOut'
                });
                
                gsap.to(this.rightArm.rotation, {
                    z: -Math.PI / 2,
                    duration: 0.5,
                    yoyo: true,
                    repeat: 1,
                    ease: 'power2.inOut'
                });
                
                // Heart glow
                gsap.to(this.heartGlow.material, {
                    opacity: 1,
                    duration: 0.3,
                    yoyo: true,
                    repeat: 1,
                    ease: 'power2.inOut'
                });
                
                // Bounce
                gsap.to(this.teddyBody.position, {
                    y: '+=0.3',
                    duration: 0.2,
                    yoyo: true,
                    repeat: 2,
                    ease: 'bounce.out'
                });
            }

            animateDance() {
                // Dance sequence
                const dance = gsap.timeline();
                
                dance.to(this.teddyBody.rotation, {
                    y: Math.PI * 2,
                    duration: 2,
                    ease: 'power2.inOut'
                })
                .to(this.leftArm.rotation, {
                    z: Math.PI / 4,
                    duration: 0.2,
                    yoyo: true,
                    repeat: 5,
                    ease: 'power2.inOut'
                }, 0)
                .to(this.rightArm.rotation, {
                    z: -Math.PI / 4,
                    duration: 0.2,
                    yoyo: true,
                    repeat: 5,
                    ease: 'power2.inOut'
                }, 0)
                .to(this.teddyBody.position, {
                    y: '+=0.5',
                    duration: 0.5,
                    yoyo: true,
                    repeat: 3,
                    ease: 'power2.inOut'
                }, 0);
            }

            animateFloat() {
                // Float up
                gsap.to(this.teddyBody.position, {
                    y: 2,
                    duration: 2,
                    ease: 'power2.inOut'
                });
                
                // Rotate slowly
                gsap.to(this.teddyBody.rotation, {
                    y: Math.PI * 4,
                    duration: 10,
                    ease: 'none',
                    repeat: -1
                });
                
                // Gentle bob
                gsap.to(this.teddyBody.position, {
                    y: '+=0.3',
                    duration: 1,
                    yoyo: true,
                    repeat: -1,
                    ease: 'sine.inOut'
                });
            }

            animateGlow() {
                // Make teddy glow
                const materials = [
                    this.teddyBody.material,
                    this.teddyHead.material,
                    this.leftEar.material,
                    this.rightEar.material
                ];
                
                materials.forEach(material => {
                    gsap.to(material, {
                        emissive: new THREE.Color(0xff6b8b),
                        emissiveIntensity: 1,
                        duration: 0.5,
                        yoyo: true,
                        repeat: 1,
                        ease: 'power2.inOut'
                    });
                });
                
                // Create particle shower
                for (let i = 0; i < 50; i++) {
                    setTimeout(() => {
                        const particle = this.createParticle();
                        particle.x = window.innerWidth / 2;
                        particle.y = window.innerHeight / 2;
                    }, i * 20);
                }
            }

            createHeartExplosion() {
                for (let i = 0; i < 30; i++) {
                    setTimeout(() => {
                        const heart = document.createElement('div');
                        heart.textContent = '‚ù§Ô∏è';
                        heart.style.position = 'fixed';
                        heart.style.left = '50%';
                        heart.style.top = '50%';
                        heart.style.fontSize = Math.random() * 30 + 20 + 'px';
                        heart.style.color = `hsl(${Math.random() * 60 + 330}, 100%, 70%)`;
                        heart.style.pointerEvents = 'none';
                        heart.style.zIndex = '1000';
                        heart.style.transform = 'translate(-50%, -50%)';
                        
                        document.body.appendChild(heart);
                        
                        const angle = Math.random() * Math.PI * 2;
                        const distance = Math.random() * 300 + 100;
                        
                        gsap.to(heart, {
                            x: Math.cos(angle) * distance,
                            y: Math.sin(angle) * distance,
                            opacity: 0,
                            scale: 0,
                            duration: 1.5,
                            ease: 'power2.out',
                            onComplete: () => heart.remove()
                        });
                    }, i * 30);
                }
            }

            createClickEffect(event) {
                const x = event.clientX;
                const y = event.clientY;
                
                // Create ripple effect
                const ripple = document.createElement('div');
                ripple.style.position = 'fixed';
                ripple.style.left = x + 'px';
                ripple.style.top = y + 'px';
                ripple.style.width = '0px';
                ripple.style.height = '0px';
                ripple.style.borderRadius = '50%';
                ripple.style.border = '2px solid rgba(255, 107, 139, 0.5)';
                ripple.style.transform = 'translate(-50%, -50%)';
                ripple.style.pointerEvents = 'none';
                ripple.style.zIndex = '1000';
                
                document.body.appendChild(ripple);
                
                gsap.to(ripple, {
                    width: '100px',
                    height: '100px',
                    borderWidth: '0px',
                    opacity: 0,
                    duration: 1,
                    ease: 'power2.out',
                    onComplete: () => ripple.remove()
                });
                
                // Create mini hearts
                for (let i = 0; i < 5; i++) {
                    const heart = document.createElement('div');
                    heart.textContent = '‚ù§Ô∏è';
                    heart.style.position = 'fixed';
                    heart.style.left = x + 'px';
                    heart.style.top = y + 'px';
                    heart.style.fontSize = '20px';
                    heart.style.pointerEvents = 'none';
                    heart.style.zIndex = '1000';
                    
                    document.body.appendChild(heart);
                    
                    gsap.to(heart, {
                        x: (Math.random() - 0.5) * 100,
                        y: -100,
                        opacity: 0,
                        duration: 1,
                        ease: 'power2.out',
                        onComplete: () => heart.remove()
                    });
                }
            }

            // ==================== AI SYSTEM ====================
            initializeAI() {
                this.aiResponses = [
                    "I sense your love frequency is at maximum! üíñ",
                    "Analyzing heart patterns... Results: Perfect match!",
                    "Love algorithm optimized for eternal happiness.",
                    "Neural network predicts: Infinite joy ahead!",
                    "Quantum entanglement of souls confirmed!",
                    "Emotional synchronization: 100% complete!"
                ];
                
                this.aiInterval = setInterval(() => {
                    if (Math.random() > 0.7) {
                        this.showAIResponse();
                    }
                }, 10000);
            }

            showAIResponse() {
                const response = this.aiResponses[Math.floor(Math.random() * this.aiResponses.length)];
                
                const aiMessage = document.createElement('div');
                aiMessage.textContent = response;
                aiMessage.style.position = 'fixed';
                aiMessage.style.bottom = '100px';
                aiMessage.style.right = '30px';
                aiMessage.style.background = 'rgba(255, 107, 139, 0.9)';
                aiMessage.style.color = 'white';
                aiMessage.style.padding = '15px 25px';
                aiMessage.style.borderRadius = '25px';
                aiMessage.style.fontFamily = "'Quicksand', sans-serif";
                aiMessage.style.fontWeight = '600';
                aiMessage.style.zIndex = '10000';
                aiMessage.style.boxShadow = '0 10px 30px rgba(0,0,0,0.3)';
                aiMessage.style.transform = 'translateX(100%)';
                
                document.body.appendChild(aiMessage);
                
                // Animate in and out
                gsap.to(aiMessage, {
                    x: 0,
                    duration: 0.5,
                    ease: 'back.out(1.7)',
                    onComplete: () => {
                        setTimeout(() => {
                            gsap.to(aiMessage, {
                                x: '100%',
                                duration: 0.5,
                                ease: 'back.in(1.7)',
                                onComplete: () => aiMessage.remove()
                            });
                        }, 3000);
                    }
                });
            }

            // ==================== PUBLIC METHODS ====================
            startEverything() {
                console.log('üöÄ Ultimate Love Website Initialized!');
                // Start background music
                this.audio.play();
                this.isPlaying = true;
                document.getElementById('playBtn').innerHTML = '<i class="fas fa-pause"></i>';
            }
        }

        // Feature functions
        function activateParticles() {
            const website = window.ultimateWebsite;
            for (let i = 0; i < 100; i++) {
                setTimeout(() => website.createParticle(), i * 20);
            }
            
            alert('‚ú® Quantum Particle System Activated!\n\n1000+ particles generated with intelligent swarm behavior.');
        }

        function activateAI() {
            alert('üß† Neural Love Network Engaged!\n\nAI is now analyzing our connection and generating personalized love predictions.');
            
            // Visual effect
            document.body.style.filter = 'sepia(1)';
            setTimeout(() => {
                document.body.style.filter = '';
            }, 1000);
        }

        function activateTimeEngine() {
            alert('‚è≥ Time Dilation Engine Activated!\n\nYou can now navigate through our timeline. Use mouse wheel to zoom through moments.');
            
            // Create time distortion effect
            const timeEffect = document.createElement('div');
            timeEffect.style.position = 'fixed';
            timeEffect.style.top = '0';
            timeEffect.style.left = '0';
            timeEffect.style.width = '100%';
            timeEffect.style.height = '100%';
            timeEffect.style.background = 'radial-gradient(circle, transparent 30%, rgba(76, 201, 240, 0.3) 70%)';
            timeEffect.style.zIndex = '9998';
            timeEffect.style.pointerEvents = 'none';
            timeEffect.style.opacity = '0';
            
            document.body.appendChild(timeEffect);
            
            gsap.to(timeEffect, {
                opacity: 1,
                duration: 0.5,
                yoyo: true,
                repeat: 1,
                onComplete: () => timeEffect.remove()
            });
        }

        // ==================== INITIALIZE EVERYTHING ====================
        window.addEventListener('DOMContentLoaded', () => {
            window.ultimateWebsite = new UltimateLoveWebsite();
        });

        // ==================== PERFORMANCE OPTIMIZATION ====================
        // Debounce resize events
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                window.ultimateWebsite?.resizeHandler?.();
            }, 250);
        });

        // Request Animation Frame optimization
        let lastTime = 0;
        function optimizedAnimation(time) {
            const delta = time - lastTime;
            if (delta > 16) { // Cap at ~60fps
                lastTime = time;
                // Heavy animations here
            }
            requestAnimationFrame(optimizedAnimation);
        }
        requestAnimationFrame(optimizedAnimation);

        // Memory management
        window.addEventListener('beforeunload', () => {
            // Clean up WebGL contexts
            if (window.ultimateWebsite) {
                window.ultimateWebsite.renderer?.dispose();
                window.ultimateWebsite.teddyRenderer?.dispose();
                window.ultimateWebsite.audioContext?.close();
            }
        });
    </script>
</body>
</html>